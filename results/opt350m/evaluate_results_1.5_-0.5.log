/mnt/nlp/gaoqiang/miniconda3/envs/DeepSeekMoE/lib/python3.9/site-packages/transformers/models/auto/auto_factory.py:471: FutureWarning: The `use_auth_token` argument is deprecated and will be removed in v5 of Transformers. Please use `token` instead.
  warnings.warn(
/mnt/nlp/gaoqiang/miniconda3/envs/DeepSeekMoE/lib/python3.9/site-packages/torch/_utils.py:831: UserWarning: TypedStorage is deprecated. It will be removed in the future and UntypedStorage will be the only storage class. This should only matter to you if you are using storages directly.  To access UntypedStorage directly, use tensor.untyped_storage() instead of tensor.storage()
  return self.fget.__get__(instance, owner)()
INFO:__main__:Loading tokenizer...
INFO:__main__:Loading FactKB model...
INFO:__main__:Processing file: ./output/opt350m/cnndm_1.5_-0.5.jsonl.output_topp0.9_genlen100.jsonl
  0%|          | 0/591 [00:00<?, ?it/s]  0%|          | 1/591 [00:00<06:34,  1.49it/s]  1%|          | 6/591 [00:00<01:00,  9.60it/s]  2%|▏         | 10/591 [00:00<00:39, 14.55it/s]  2%|▏         | 14/591 [00:01<00:31, 18.58it/s]  3%|▎         | 18/591 [00:01<00:26, 21.90it/s]  4%|▎         | 22/591 [00:01<00:23, 24.43it/s]  4%|▍         | 26/591 [00:01<00:21, 26.45it/s]  5%|▌         | 30/591 [00:01<00:20, 27.62it/s]  6%|▌         | 34/591 [00:01<00:19, 29.00it/s]  6%|▋         | 38/591 [00:01<00:18, 29.78it/s]  7%|▋         | 42/591 [00:01<00:18, 30.31it/s]  8%|▊         | 46/591 [00:02<00:17, 30.41it/s]  8%|▊         | 50/591 [00:02<00:17, 30.85it/s]  9%|▉         | 54/591 [00:02<00:17, 31.39it/s] 10%|▉         | 58/591 [00:02<00:17, 31.33it/s] 10%|█         | 62/591 [00:02<00:16, 31.17it/s] 11%|█         | 66/591 [00:02<00:16, 31.20it/s] 12%|█▏        | 70/591 [00:02<00:16, 31.49it/s] 13%|█▎        | 74/591 [00:02<00:16, 31.40it/s] 13%|█▎        | 78/591 [00:03<00:16, 31.16it/s] 14%|█▍        | 82/591 [00:03<00:16, 31.44it/s] 15%|█▍        | 86/591 [00:03<00:15, 31.86it/s] 15%|█▌        | 90/591 [00:03<00:15, 32.09it/s] 16%|█▌        | 94/591 [00:03<00:15, 31.79it/s] 17%|█▋        | 98/591 [00:03<00:15, 31.26it/s] 17%|█▋        | 102/591 [00:03<00:15, 31.35it/s] 18%|█▊        | 106/591 [00:03<00:15, 31.39it/s] 19%|█▊        | 110/591 [00:04<00:15, 31.18it/s] 19%|█▉        | 114/591 [00:04<00:15, 31.31it/s] 20%|█▉        | 118/591 [00:04<00:15, 31.37it/s] 21%|██        | 122/591 [00:04<00:14, 31.35it/s] 21%|██▏       | 126/591 [00:04<00:14, 31.13it/s] 22%|██▏       | 130/591 [00:04<00:14, 31.08it/s] 23%|██▎       | 134/591 [00:04<00:14, 31.23it/s] 23%|██▎       | 138/591 [00:05<00:14, 31.29it/s] 24%|██▍       | 142/591 [00:05<00:14, 31.16it/s] 25%|██▍       | 146/591 [00:05<00:14, 31.17it/s] 25%|██▌       | 150/591 [00:05<00:14, 31.12it/s] 26%|██▌       | 154/591 [00:05<00:14, 31.20it/s] 27%|██▋       | 158/591 [00:05<00:13, 31.03it/s] 27%|██▋       | 162/591 [00:05<00:13, 31.08it/s] 28%|██▊       | 166/591 [00:05<00:13, 31.24it/s] 29%|██▉       | 170/591 [00:06<00:13, 31.61it/s] 29%|██▉       | 174/591 [00:06<00:13, 31.67it/s] 30%|███       | 178/591 [00:06<00:13, 31.63it/s] 31%|███       | 182/591 [00:06<00:12, 32.13it/s] 31%|███▏      | 186/591 [00:06<00:12, 32.50it/s] 32%|███▏      | 190/591 [00:06<00:11, 33.93it/s] 33%|███▎      | 194/591 [00:06<00:11, 34.84it/s] 34%|███▎      | 198/591 [00:06<00:11, 35.30it/s] 34%|███▍      | 202/591 [00:06<00:10, 35.62it/s] 35%|███▍      | 206/591 [00:07<00:10, 35.85it/s] 36%|███▌      | 210/591 [00:07<00:10, 36.04it/s] 36%|███▌      | 214/591 [00:07<00:10, 36.16it/s] 37%|███▋      | 218/591 [00:07<00:10, 36.66it/s] 38%|███▊      | 222/591 [00:07<00:10, 36.57it/s] 38%|███▊      | 226/591 [00:07<00:09, 36.53it/s] 39%|███▉      | 230/591 [00:07<00:09, 36.28it/s] 40%|███▉      | 234/591 [00:07<00:09, 36.32it/s] 40%|████      | 238/591 [00:07<00:09, 36.35it/s] 41%|████      | 242/591 [00:08<00:09, 36.37it/s] 42%|████▏     | 246/591 [00:08<00:09, 36.38it/s] 42%|████▏     | 250/591 [00:08<00:09, 36.15it/s] 43%|████▎     | 254/591 [00:08<00:09, 36.65it/s] 44%|████▎     | 258/591 [00:08<00:09, 36.58it/s] 44%|████▍     | 262/591 [00:08<00:09, 36.53it/s] 45%|████▌     | 266/591 [00:08<00:08, 36.48it/s] 46%|████▌     | 270/591 [00:08<00:08, 36.45it/s] 46%|████▋     | 274/591 [00:08<00:08, 36.46it/s] 47%|████▋     | 278/591 [00:09<00:08, 36.45it/s] 48%|████▊     | 282/591 [00:09<00:08, 36.45it/s] 48%|████▊     | 286/591 [00:09<00:08, 36.45it/s] 49%|████▉     | 290/591 [00:09<00:08, 36.45it/s] 50%|████▉     | 294/591 [00:09<00:08, 36.44it/s] 50%|█████     | 298/591 [00:09<00:08, 36.43it/s] 51%|█████     | 302/591 [00:09<00:07, 36.43it/s] 52%|█████▏    | 306/591 [00:09<00:07, 35.89it/s] 52%|█████▏    | 310/591 [00:09<00:07, 35.88it/s] 53%|█████▎    | 314/591 [00:10<00:07, 36.08it/s] 54%|█████▍    | 318/591 [00:10<00:07, 36.18it/s] 54%|█████▍    | 322/591 [00:10<00:07, 36.26it/s] 55%|█████▌    | 326/591 [00:10<00:07, 36.24it/s] 56%|█████▌    | 330/591 [00:10<00:07, 36.30it/s] 57%|█████▋    | 334/591 [00:10<00:07, 36.32it/s] 57%|█████▋    | 338/591 [00:10<00:06, 36.36it/s] 58%|█████▊    | 342/591 [00:10<00:06, 36.37it/s] 59%|█████▊    | 346/591 [00:10<00:06, 36.23it/s] 59%|█████▉    | 350/591 [00:11<00:06, 35.96it/s] 60%|█████▉    | 354/591 [00:11<00:06, 36.12it/s] 61%|██████    | 358/591 [00:11<00:06, 36.22it/s] 61%|██████▏   | 362/591 [00:11<00:06, 36.29it/s] 62%|██████▏   | 366/591 [00:11<00:06, 36.31it/s] 63%|██████▎   | 370/591 [00:11<00:06, 36.36it/s] 63%|██████▎   | 374/591 [00:11<00:05, 36.38it/s] 64%|██████▍   | 378/591 [00:11<00:05, 36.62it/s] 65%|██████▍   | 382/591 [00:11<00:05, 36.59it/s] 65%|██████▌   | 386/591 [00:12<00:05, 36.54it/s] 66%|██████▌   | 390/591 [00:12<00:05, 36.51it/s] 67%|██████▋   | 394/591 [00:12<00:05, 36.49it/s] 67%|██████▋   | 398/591 [00:12<00:05, 36.44it/s] 68%|██████▊   | 402/591 [00:12<00:05, 36.45it/s] 69%|██████▊   | 406/591 [00:12<00:05, 36.46it/s] 69%|██████▉   | 410/591 [00:12<00:04, 36.67it/s] 70%|███████   | 414/591 [00:12<00:04, 36.60it/s] 71%|███████   | 418/591 [00:12<00:04, 36.56it/s] 71%|███████▏  | 422/591 [00:12<00:04, 36.51it/s] 72%|███████▏  | 426/591 [00:13<00:04, 36.45it/s] 73%|███████▎  | 430/591 [00:13<00:04, 36.26it/s] 73%|███████▎  | 434/591 [00:13<00:04, 36.23it/s] 74%|███████▍  | 438/591 [00:13<00:04, 35.94it/s] 75%|███████▍  | 442/591 [00:13<00:04, 36.03it/s] 75%|███████▌  | 446/591 [00:13<00:03, 36.37it/s] 76%|███████▌  | 450/591 [00:13<00:03, 37.03it/s] 77%|███████▋  | 454/591 [00:13<00:03, 36.59it/s] 77%|███████▋  | 458/591 [00:13<00:03, 36.09it/s] 78%|███████▊  | 462/591 [00:14<00:03, 36.19it/s] 79%|███████▉  | 466/591 [00:14<00:03, 36.27it/s] 80%|███████▉  | 470/591 [00:14<00:03, 36.32it/s] 80%|████████  | 474/591 [00:14<00:03, 36.77it/s] 81%|████████  | 478/591 [00:14<00:03, 36.67it/s] 82%|████████▏ | 482/591 [00:14<00:02, 36.59it/s] 82%|████████▏ | 486/591 [00:14<00:02, 36.54it/s] 83%|████████▎ | 490/591 [00:14<00:02, 36.50it/s] 84%|████████▎ | 494/591 [00:14<00:02, 36.30it/s] 84%|████████▍ | 498/591 [00:15<00:02, 35.91it/s] 85%|████████▍ | 502/591 [00:15<00:02, 36.06it/s] 86%|████████▌ | 506/591 [00:15<00:02, 36.19it/s] 86%|████████▋ | 510/591 [00:15<00:02, 36.18it/s] 87%|████████▋ | 514/591 [00:15<00:02, 35.93it/s] 88%|████████▊ | 518/591 [00:15<00:02, 36.02it/s] 88%|████████▊ | 522/591 [00:15<00:01, 36.15it/s] 89%|████████▉ | 526/591 [00:15<00:01, 36.23it/s] 90%|████████▉ | 530/591 [00:15<00:01, 36.29it/s] 90%|█████████ | 534/591 [00:16<00:01, 36.25it/s] 91%|█████████ | 538/591 [00:16<00:01, 35.97it/s] 92%|█████████▏| 542/591 [00:16<00:01, 36.02it/s] 92%|█████████▏| 546/591 [00:16<00:01, 36.13it/s] 93%|█████████▎| 550/591 [00:16<00:01, 36.22it/s] 94%|█████████▎| 554/591 [00:16<00:01, 36.28it/s] 94%|█████████▍| 558/591 [00:16<00:00, 36.33it/s] 95%|█████████▌| 562/591 [00:16<00:00, 36.14it/s] 96%|█████████▌| 566/591 [00:16<00:00, 36.06it/s] 96%|█████████▋| 570/591 [00:17<00:00, 35.97it/s] 97%|█████████▋| 574/591 [00:17<00:00, 36.12it/s] 98%|█████████▊| 578/591 [00:17<00:00, 36.23it/s] 98%|█████████▊| 582/591 [00:17<00:00, 36.28it/s] 99%|█████████▉| 586/591 [00:17<00:00, 36.73it/s]100%|█████████▉| 590/591 [00:17<00:00, 36.65it/s]100%|██████████| 591/591 [00:17<00:00, 33.47it/s]
INFO:__main__:Computing ROUGE scores...
INFO:absl:Using default tokenizer.
Average fact score: 0.3811
ROUGE results: {'rouge1': 0.15501142674837837, 'rouge2': 0.032106766417869, 'rougeL': 0.09725424931603681}
